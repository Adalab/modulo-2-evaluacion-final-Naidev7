const u=document.querySelector(".js-cardsSection"),m=document.querySelector(".js-inputSearch"),p=document.querySelector(".js-btnSearch");document.querySelector(".js-btnReset");let o=document.querySelector(".js-favsCont");document.querySelectorAll(".btnAdd");document.querySelectorAll(".btnRemove");let s=[];const S="https://api.jikan.moe/v4/anime?",f=e=>{fetch(`${S}q=${e}`).then(t=>t.json()).then(t=>{s=t.data,g(s,u)})},g=(e,t)=>{t.innerHTML="";for(const l of e){let c=document.createElement("article");c.setAttribute("class","js-article article"),c.setAttribute("id",`${l.mal_id}`);let n=document.createElement("h2");n.appendChild(document.createTextNode(`${l.title}`)),n.setAttribute("class","title");let r=document.createElement("img");r.src=l.images.jpg.image_url,r.setAttribute("class","img"),c.appendChild(n),c.appendChild(r),t.appendChild(c)}v()},h=e=>{e.preventDefault();const t=m.value.toLowerCase();f(t)};p.addEventListener("click",h);let a=[];const b=e=>{const t=e.currentTarget.id;e.currentTarget.classList.add("favSection");const c=s.find(r=>r.mal_id==t);a.indexOf(c)===-1&&(a.push(c),d(a,o));const n=JSON.stringify(a);return localStorage.setItem("favSeries",n),a},v=()=>{const e=document.querySelectorAll(".js-article");for(const t of e)t.addEventListener("click",b)},A=()=>{if(localStorage.getItem("favSeries")!==null){const e=JSON.parse(localStorage.getItem("favSeries"));d(e,o)}},d=(e,t)=>{t.innerHTML="";for(const l of e){let c=document.createElement("article");c.setAttribute("class","js-article article"),c.setAttribute("id",`${l.mal_id}`);let n=document.createElement("h2");n.appendChild(document.createTextNode(`${l.title}`)),n.setAttribute("class","title");let r=document.createElement("img");r.src=l.images.jpg.image_url,r.setAttribute("class","img");let i=document.createElement("button");i.appendChild(document.createTextNode("X")),i.setAttribute("class","btnDelete js-btnDelete"),i.setAttribute("id",`${l.mal_id}`),c.appendChild(n),c.appendChild(r),c.appendChild(i),t.appendChild(c)}C()},j=e=>{e.preventDefault(),console.log(a);const t=e.currentTarget.id,l=a.findIndex(c=>c.mal_id==t);a.splice(l,1),console.log(a),localStorage.setItem("favSeries",l)},C=()=>{const e=document.querySelectorAll(".js-btnDelete");for(const t of e)t.addEventListener("click",j)};A();
//# sourceMappingURL=main.js.map
