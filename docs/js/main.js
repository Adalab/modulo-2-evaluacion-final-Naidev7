const m=document.querySelector(".js-cardsSection"),S=document.querySelector(".js-inputSearch"),p=document.querySelector(".js-btnSearch");document.querySelector(".js-btnReset");let d=document.querySelector(".js-favsCont");document.querySelectorAll(".btnAdd");document.querySelectorAll(".btnRemove");let s=[];const f="https://api.jikan.moe/v4/anime?",g=e=>{fetch(`${f}q=${e}`).then(t=>t.json()).then(t=>{s=t.data,u(s,m)})},u=(e,t)=>{t.innerHTML="";for(const l of e){let c=document.createElement("article");c.setAttribute("class","js-article article"),c.setAttribute("id",`${l.mal_id}`);let n=document.createElement("h2");n.appendChild(document.createTextNode(`${l.title}`)),n.setAttribute("class","title");let r=document.createElement("img");r.src=l.images.jpg.image_url,r.setAttribute("class","img"),c.appendChild(n),c.appendChild(r),t.appendChild(c)}v()},h=e=>{e.preventDefault();const t=S.value.toLowerCase();g(t)};p.addEventListener("click",h);let a=[];const b=e=>{const t=e.currentTarget.id;e.currentTarget.classList.add("favSection");const c=s.find(r=>r.mal_id==t);a.indexOf(c)===-1&&(a.push(c),o(a,d));const n=JSON.stringify(a);return localStorage.setItem("favSeries",n),a},v=()=>{const e=document.querySelectorAll(".js-article");for(const t of e)t.addEventListener("click",b)},A=()=>{if(localStorage.getItem("favSeries")!==null){const e=JSON.parse(localStorage.getItem("favSeries"));o(e,d)}},o=(e,t)=>{t.innerHTML="";for(const l of e){let c=document.createElement("article");c.setAttribute("class","js-article article"),c.setAttribute("id",`${l.mal_id}`);let n=document.createElement("h2");n.appendChild(document.createTextNode(`${l.title}`)),n.setAttribute("class","title");let r=document.createElement("img");r.src=l.images.jpg.image_url,r.setAttribute("class","img");let i=document.createElement("button");i.appendChild(document.createTextNode("X")),i.setAttribute("class","btnDelete js-btnDelete"),i.setAttribute("id",`${l.mal_id}`),c.appendChild(n),c.appendChild(r),c.appendChild(i),t.appendChild(c)}C()},j=(e,t)=>{e.preventDefault(),console.log(a);const l=e.currentTarget.id,c=a.findIndex(n=>n.mal_id==l);a.splice(c,1),console.log(a),localStorage.setItem("favSeries",c),o(),u()},C=()=>{const e=document.querySelectorAll(".js-btnDelete");for(const t of e)t.addEventListener("click",j)};A();
//# sourceMappingURL=main.js.map
